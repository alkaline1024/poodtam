{% extends "/base/default-page.html" %}
{% import "/components/message.html" as message_renderer %}

{% block content %}
  <div class="ui raised padded secondary segment">
    <div class="ui hidden divider"></div>
    <div class="ui feed">
      {% for message in chat.messages %}
        {% if message.sender == "bot" %}
          {{ message_renderer.BotMessage(message, status, df, df_exist, is_openning) }}
        {% else %}
          {{ message_renderer.UserMessage(message, current_user) }}
        {% endif %}
      {% endfor %}
      <div class="ui teal message center aligned">
        <form method="POST">
          <div class="ui action fluid transparent input">
            <input type="text" name="input" id="input" placeholder="Send a message">
            <button class="ui teal icon button">
              <i class="send icon"></i>&ensp;Submit
            </button>
          </div>
        </form>
      </div>
    </div>
  </div>

  {% include "/components/back-to-top.html" %}
{% endblock %}

{% block additional_js %}
  <script>
    window.top.location.href = "#input";
    user_input = document.getElementById("{{ chat.messages[-1].created_date }}");
    user_input.style.display = "none";
    $(user_input).transition('fade up');
  </script>
{% endblock %}
