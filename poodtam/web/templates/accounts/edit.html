{% extends "/base/default-page.html" %}
{% import "/base/html-renderer.html" as renderer %}

{% block content %}
  <div class="ui segment">
    <h1>Edit Profile</h1>
    <form method="POST" class="ui form">
      {{ form.csrf_token }}
      <div class="form-group" style="margin-bottom: 1em;">
        {{ renderer.render_field(form.name) }}
      </div>
      <div class="form-group" style="margin-bottom: 1em;">
        {{ renderer.render_field(form.email) }}
      </div>
      <div class="form-group" style="margin-bottom: 1em;">
        {{ renderer.render_multiple_search_select(form.favorite_types) }}
      </div>
      <p></p>
      <button type="submit" class="ui primary button"><i class="save icon"></i>Save</button> <a href="{{ url_for('dashboard.index') }}" class="ui button">Cancel</a>
    </form>
  </div>

  {% with messages = get_flashed_messages() %}
    {% if messages %}
        <div class="ui toast green">
          {% for message in messages %}
            {{ message }}
          {% endfor %}
        </div>
        <script>
          $('.ui.toast').toast({position: 'top center', displayTime: 5000});
        </script>
    {% endif %}
  {% endwith %}
{% endblock %}
